{"version":3,"sources":["features/userSlice.js","Login.js","post/login.js","features/themeSlice.js","Home.js","Header.js","features/roomSlice.js","Room.js","post/getUserNumer.js","Lobby.js","post/getRoomsByClass.js","Create.js","post/createChatRoom.js","Message.js","Chat.js","SignUp.js","post/logon.js","ChangePw.js","post/modifyPassword.js","ChangeUN.js","post/modifyUserName.js","App.js","app/store.js","serviceWorker.js","index.js"],"names":["userSlice","createSlice","name","initialState","userId","userName","reducers","setUser","state","action","payload","actions","Bottom","Typography","variant","color","align","Date","getFullYear","useStyles","makeStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","link","textDecoration","Login","classes","useDispatch","Grid","container","component","className","CssBaseline","item","xs","sm","md","Paper","elevation","square","Avatar","noValidate","TextField","required","fullWidth","id","label","autoComplete","autoFocus","FormControlLabel","control","Checkbox","value","Button","onClick","document","getElementById","password","window","localStorage","userID","callback","$","ajax","url","data","async","success","console","log","code","fail","error","login","result","location","href","alert","to","Box","mt","themeSlice","themeId","setTheme","selectThemeId","Home","useState","storage","src","alt","flexGrow","menuButton","marginRight","title","Header","React","anchorEl","setAnchorEl","handleClose","AppBar","position","Toolbar","IconButton","edge","aria-label","event","currentTarget","keepMounted","open","Boolean","onClose","MenuItem","roomSlice","roomId","roomName","setRoom","boom","textAlign","justifyContent","Room","scale","hours","mins","noEntry","entry","numberInRoom","setNumberInRoom","parseInt","Array","fill","map","_","Children","toArray","disableElevation","roomID","setItem","number","disabled","flex","function","searchContainer","fade","common","white","paddingLeft","paddingRight","marginBottom","searchIcon","alignSelf","searchInput","room","overflow","text","marginLeft","font","fontWeight","bottom","Lobby","rooms","setRooms","useSelector","length","roomNumber","setRoomNumber","filter","setFilter","useEffect","CRID","CRName","roomScale","Capacity","chat_rooms","onChange","e","target","indexOf","Fab","fabButton","includes","key","background","btn_back","text_one","text_two","button_create","Create","capacity","createChatRoom","Message","forwardRef","ref","message","getItem","toLocaleDateString","socket","require","io","reconnectionDelayMax","connect","Chat","input","setInput","messages","setMessages","on","newMessages","push","content","emit","disconnect","placeholder","preventDefault","setTimeout","SignUp","logon","ChangePW","oldPassword","newPassword","passwordOld","passwordNew","modifyPassword","ChangeUN","modname","App","path","exact","configureStore","reducer","user","userReducer","roomReducer","themeReducer","hostname","match","ReactDOM","render","StrictMode","store","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.69861191.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const userSlice = createSlice({\r\n  name: 'user',\r\n  initialState: {\r\n    userId: null,\r\n    userName: null,\r\n  },\r\n  reducers: {\r\n    setUser: (state, action) => {\r\n      state.userId = action.payload.userId;\r\n      state.userName = action.payload.userName;\r\n    }\r\n  },\r\n});\r\n\r\n\r\nexport const {setUser} = userSlice.actions;\r\n\r\nexport const selectUserId = (state) => state.user.userId;\r\nexport const selectUserName = (state) => state.user.userName;\r\nexport default userSlice.reducer;\r\n","import { Button } from '@material-ui/core';\nimport React from 'react';\nimport './Login.css';\nimport Avatar from '@material-ui/core/Avatar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { login } from './post/login';\nimport { setUser } from './features/userSlice'\nimport { useDispatch } from 'react-redux'\n\nfunction Bottom() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {`Let's start `}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh'\n  },\n  image: {\n    backgroundImage: 'url(https://source.unsplash.com/random)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor: theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center'\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  },\n  link: {\n    textDecoration: 'none',\n    color: 'white'\n  }\n}));\n\nfunction Login() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  const signIn = () => {\n    const userId = document.getElementById('email').value;\n    const password = document.getElementById('password').value;\n    var storage = window.localStorage;\n    storage['userId'] = userId\n    login(userId, password, (result) => {\n      console.log(userId)\n      if (result) {\n        window.location.href = '/home';\n      } else {\n        alert(\"帐号密码错误\");\n      }\n      // dispatch(\n      //   setUser({\n      //     userId: userId,\n      //   })\n      // )\n    });\n  };\n  return (\n    <Grid container component=\"main\" className={classes.root}>\n      <CssBaseline />\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          <form className={classes.form} noValidate>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Email Address\"\n              name=\"email\"\n              autoComplete=\"email\"\n              autoFocus\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n            />\n            <FormControlLabel control={<Checkbox value=\"remember\" color=\"primary\" />} label=\"Remember me\" />\n            <Button\n              // type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              onClick={signIn}\n            >\n              Sign In\n            </Button>\n            <Grid container>\n              <Grid item xs>\n                <Link to=\"/changepw\" variant=\"body2\">\n                  Forgot password?\n                </Link>\n              </Grid>\n              <Grid item>\n                <Link to=\"/signUp\" variant=\"body2\">\n                  {\"Don't have an account? Sign Up\"}\n                </Link>\n              </Grid>\n            </Grid>\n            <Box mt={5}>\n              <Bottom />\n            </Box>\n          </form>\n        </div>\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default Login;\n","import $ from 'jquery';\nexport function login(userID, password, callback) {\n  $.ajax({\n    url: 'http://49.235.190.178:10010/api/login',\n    type: 'post',\n    data: {\n      userID: userID,\n      password: password\n    },\n    async: false,\n    success: function(data) {\n      console.log(data);\n      if (data.code === 200) {\n        callback(true);\n      } else {\n        callback(false);\n      }\n    },\n    fail: function(error) {\n      console.log(error);\n    }\n  });\n}\n","import { createSlice } from '@reduxjs/toolkit';\n\nexport const themeSlice = createSlice({\n  name: 'theme',\n  initialState: {\n    themeId: null,\n  },\n  reducers: {\n    setTheme: (state, action) => {\n        state.themeId = action.payload.themeId;\n    },\n  },\n});\n\n\nexport const { setTheme } = themeSlice.actions;\n\nexport const selectThemeId = (state) => state.theme.themeId;\n\nexport default themeSlice.reducer;\n","import React, {useState, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport './Home.css';\nimport {setTheme} from './features/themeSlice';\nimport {useDispatch} from 'react-redux';\nimport {Button} from '@material-ui/core';\nimport {login} from './post/login';\n\nfunction Home() {\n  const dispatch = useDispatch();\n  const [themes, setThemes] = useState();\n  var storage = window.localStorage;\n  // storage['userId'] = userId\n  \n  const traceThemeIdOne = () => {\n    // dispatch(\n    //   setTheme({\n    //     themeId: 'food'\n    //   })\n    // );\n    storage['themeId'] = 'food'\n  };\n  const traceThemeIdTwo = () => {\n    // dispatch(\n    //   setTheme({\n    //     themeId: 'clothing'\n    //   })\n    // );\n    storage['themeId'] = 'clothing'\n  };\n  const traceThemeIdThree = () => {\n    // dispatch(\n    //   setTheme({\n    //     themeId: 'go'\n    //   })\n    // );\n    storage['themeId'] = 'go'\n  };\n  const traceThemeIdFour = () => {\n    // dispatch(\n    //   setTheme({\n    //     themeId: 'home'\n    //   })\n    // );\n    storage['themeId'] = 'home'\n  };\n  const traceThemeIdFive = () => {\n    // dispatch(\n    //   setTheme({\n    //     themeId: 'entrainment'\n    //   })\n    // );\n    storage['themeId'] = 'entrainment'\n  };\n  \n  \n  return (\n    <div className=\"home_body\">\n      <Link to=\"/lobby\" onClick={traceThemeIdOne}>\n        <Button>\n          <img\n            className=\"house\"\n            src=\"https://images.unsplash.com/photo-1580587771525-78b9dba3b914?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1100&q=60\"\n            alt=\"\"\n          />\n        </Button>\n      </Link>\n\n      <Link to=\"/lobby\">\n        <Button onClick={traceThemeIdTwo}>\n          <img\n            className=\"food\"\n            src=\"https://images.unsplash.com/photo-1498837167922-ddd27525d352?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1000&q=60\"\n            alt=\"\"\n          />\n        </Button>\n      </Link>\n\n      <Link to=\"/lobby\">\n        <Button onClick={traceThemeIdThree}>\n          <img\n            className=\"clothing\"\n            src=\"https://images.unsplash.com/photo-1516762689617-e1cffcef479d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1000&q=60\"\n            alt=\"\"\n          />\n        </Button>\n      </Link>\n\n      <Link to=\"/lobby\">\n        <Button onClick={traceThemeIdFour}>\n          <img\n            className=\"transportation\"\n            src=\"https://images.unsplash.com/photo-1510410493114-38f0a17d66ef?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1000&q=60\"\n            alt=\"\"\n          />\n        </Button>\n      </Link>\n\n      <Link to=\"/lobby\">\n        <Button onClick={traceThemeIdFive}>\n          <img\n            className=\"entertainment\"\n            src=\"https://images.unsplash.com/photo-1481328101413-1eef25cc76c0?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1000&q=60\"\n            alt=\"\"\n          />\n        </Button>\n      </Link>\n    </div>\n  );\n}\n\nexport default Home;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { Avatar, IconButton } from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { selectUser } from './features/userSlice';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from '@material-ui/core/MenuItem';\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  title: {\n    flexGrow: 1\n  },\n  link: {\n    textDecoration: 'none'\n  }\n}));\n\nfunction Header() {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const logout = () => {\n    window.location.href = '/';\n  }\n  const toPw = () => {\n    window.location.href = '/changepw'\n  }\n  const toUN = () => {\n    window.location.href = '/changeun'\n  }\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <AppBar position=\"static\">\n      <Toolbar>\n        <Link to=\"/home\">\n          <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n            <MenuIcon />\n          </IconButton>\n        </Link>\n        <Typography variant=\"h6\" className={classes.title}>\n          Chat\n        </Typography>\n          <Avatar className=\"sidebar_avatar\" onClick={handleClick} />\n          <Menu\n            id=\"simple-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <MenuItem onClick={handleClose,toUN}>修改用户名</MenuItem>\n            <MenuItem onClick={handleClose,toPw}>修改密码</MenuItem>\n            <MenuItem onClick={handleClose,logout}>退出登陆</MenuItem>\n          </Menu>\n\n      </Toolbar>\n    </AppBar>\n  );\n}\n\nexport default Header;\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const roomSlice = createSlice({\r\n  name: 'room',\r\n  initialState: {\r\n    roomId: null,\r\n    roomName: null,\r\n  },\r\n  reducers: {\r\n    setRoom: (state, action) => {\r\n      state.roomId = action.payload.roomId;\r\n      state.roomName = action.payload.roomName;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setRoom } = roomSlice.actions;\r\n\r\nexport const selectRoomName = (state) => state.room.roomName;\r\nexport const selectRoomId = (state) => state.room.roomId;\r\n\r\nexport default roomSlice.reducer;\r\n","import React, {useState, Children} from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport {useDispatch} from 'react-redux';\nimport {setRoom} from './features/roomSlice';\nimport { getUserNumer } from './post/getUserNumer'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // background: URL()\n  },\n  link: {\n    textDecoration: 'none'\n  },\n  boom: {\n    display: 'flex',\n    textAlign: 'center',\n    justifyContent: 'center'\n  }\n}));\n\nfunction Room({id, name, image, scale, hours, mins, boom, noEntry, entry}) {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const [numberInRoom, setNumberInRoom] = useState(1);\n  \n  const joinInRoom = () => {\n    // setNumberInRoom(numberInRoom + 1);-----------------------------------------------------------------------------------------------------\n    window.localStorage.setItem('roomId', id);\n    getUserNumer(window.localStorage.roomId,(result) => {\n      setNumberInRoom(result);\n    })\n    window.location.href = '/chat';\n    console.log(1111);\n  };\n  const shot = () => {\n    dispatch(\n      setRoom({\n        roomId: id,\n        roomName: name\n      })\n    );\n  };\n\n  if (numberInRoom / scale > 0.2) {\n    boom = parseInt(5 * numberInRoom / scale);\n  } else {\n    boom = 1;\n  }\n\n  if (numberInRoom < scale) {\n    noEntry = false;\n    entry = '加入聊天室';\n  } else {\n    noEntry = true;\n    entry = '人数已满';\n  }\n  const ifJump = () => {\n    return noEntry;\n  };\n\n  return (\n    <div className=\"room\">\n      <div className=\"room_info\">\n        <p>房间号：{id}</p>\n        <p>房名：{name}</p>\n        <p className=\"room_scale\">\n          在线人数： {numberInRoom}/{scale}\n        </p>\n        {/* <p className=\"create_time\">\n                    {hours} : {mins}\n                </p> */}\n        <div className={classes.boom}>{Array(boom).fill().map((_) => Children.toArray(<p>🔥</p>))}</div>\n        <img className=\"\" src={image} alt=\"\" />\n        <Button variant=\"contained\" color=\"primary\" disableElevation onClick={joinInRoom} disabled={noEntry}>\n          {entry}\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nexport default Room;\n","import $ from 'jquery';\nexport function getUserNumer(roomID, callback) {\n  $.ajax({\n    url: 'http://49.235.190.178:10010/api/get/chat_room/users',\n    type: 'post',\n    data: {\n      roomID: roomID\n    },\n    async: false,\n    success: function(data) {\n      console.log(data);\n      if (data.code === 200) {\n        callback(data.number);\n      } else {\n        callback(false);\n      }\n    },\n    fail: function(error) {\n      console.log(error);\n    }\n  });\n}\n","import React, {useState, useEffect, Children} from 'react';\nimport {Grid, makeStyles, Paper} from '@material-ui/core';\nimport Room from './Room';\nimport Header from './Header';\nimport {selectThemeId} from './features/themeSlice';\nimport {useSelector} from 'react-redux';\nimport {Toolbar, AppBar, TextField} from '@material-ui/core';\nimport {fade} from '@material-ui/core/styles';\nimport SearchIcon from '@material-ui/icons/Search';\nimport AddIcon from '@material-ui/icons/Add';\nimport Fab from '@material-ui/core/Fab';\nimport {Link} from 'react-router-dom';\nimport {getRoomsByClass} from './post/getRoomsByClass';\n// import TinderCard from \"react-tinder-card\"\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flex: 1,\n    flexDirection: 'column',\n    height: '100vh'\n  },\n  function: {\n    display: 'flex',\n    justifyContent: 'space-between'\n  },\n  searchContainer: {\n    display: 'flex',\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    paddingLeft: '20px',\n    paddingRight: '20px',\n    marginTop: '5px',\n    marginBottom: '5px'\n  },\n  searchIcon: {\n    alignSelf: 'flex-end',\n    marginBottom: '5px'\n  },\n  searchInput: {\n    width: '200px',\n    margin: '5px'\n  },\n  room: {\n    //   margin: '0.5vh 0 4vh 0',\n    //   width: \"100vw\",\n    //   height: \"90vh\",\n    //   display: 'flex',\n    flex: 1,\n    overflow: 'scroll'\n    //   justifyContent: 'center',\n    //   alignItems: 'center',\n  },\n  paper: {\n    flex: 1,\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n    marginLeft: '10px',\n    marginRight: '10px',\n    marginTop: '10px'\n  },\n  font: {\n    display: 'flex',\n    color: 'orange',\n    fontWeight: '500',\n    justifyContent: 'center',\n    position: 'fixed',\n    width: '100%',\n    height: '3vh',\n    bottom: 0\n  }\n}));\n\nfunction Lobby() {\n  const classes = useStyles();\n  const [rooms, setRooms] = useState([]);\n  const themeId = useSelector(selectThemeId);\n  // const currentDate = new Date();\n  // const [hours, setHours] = useState(currentDate.getHours())\n  // const [mins, setMins] = useState(currentDate.getMinutes())\n  const [roomNumber, setRoomNumber] = useState(rooms.length);\n  // const hours = currentDate.getHours();\n  // const mins = currentDate.getMinutes();\n  const [filter, setFilter] = useState('');\n  // const swiped = (direction,nameToDelete) => {\n  //     console.log(\"remove\" + nameToDelete)\n  // }\n  // const outOfFrame = (name) => {\n  //     console.log(name + \"left the screen!\")\n  // }\n  var storage = window.localStorage;\n\n  const handleSearchChange = (e) => {\n    setFilter(e.target.value);\n    setRoomNumber(\n      rooms.filter(\n        (room) => room.id.indexOf(e.target.value) !== -1 || room.data.roomName.indexOf(e.target.value) !== -1\n      ).length\n    );\n    if (e.target.value === '') {\n      setRoomNumber(rooms.length);\n    }\n  };\n\n  useEffect(\n    () => {\n      // if (themeId) {\n        getRoomsByClass(storage.themeId, (result) => {\n          console.log(result);\n          setRoomNumber(result.length);\n          setRooms(\n            result.map((item) => ({\n              id: item.CRID,\n              data: {\n                roomName: item.CRName,\n                roomScale: item.Capacity\n              }\n            }))\n          );\n        });\n        // db.collection('theme').doc(themeId).collection('rooms').onSnapshot((snapshot) => {\n        //   setRoomNumber(snapshot.docs.length);\n        //   setRooms(\n        //     snapshot.docs.map((doc) => ({\n        //       id: doc.id,\n        //       data: doc.data()\n        //     }))\n        //   );\n        // });\n      // }\n    },\n    []\n  );\n\n  return (\n    <div className={classes.root}>\n      <Header />\n      <AppBar position=\"static\">\n        <Toolbar className={classes.function}>\n          <div className={classes.searchContainer}>\n            <SearchIcon className={classes.searchIcon} />\n            <TextField\n              onChange={handleSearchChange}\n              className={classes.searchInput}\n              label=\"id or name\"\n              variant=\"standard\"\n            />\n          </div>\n          <Link to=\"/create\">\n            <Fab color=\"secondary\" aria-label=\"add\" className={classes.fabButton}>\n              <AddIcon />\n            </Fab>\n          </Link>\n        </Toolbar>\n      </AppBar>\n      {/* room */}\n      <div className={classes.room}>\n        <Grid container>\n          {rooms.map(({id, data: {roomName, roomScale}}) =>\n            Children.toArray(\n              (roomName.includes(filter) || id.includes(filter)) && (\n                <Grid item xs={6}>\n                  {/* <TinderCard\n                            preventSwipe={[\"up\",\"down\"]}\n                            onSwipe={(dir) => swiped(dir,roomName)}\n                            onCardLeftScreen={() => outOfFrame(roomName)}> */}\n                  <Paper className={classes.paper}>\n                    <Room\n                      key={id}\n                      //Mark-----------------------------------------\n                      id={id}\n                      name={roomName}\n                      // hours={hours}\n                      // mins={mins}\n                      scale={roomScale}\n                    />\n                  </Paper>\n                  {/* </TinderCard> */}\n                </Grid>\n              )\n            )\n          )}\n        </Grid>\n      </div>\n      <div className={classes.font}>\n        <p>{roomNumber}个聊天室 </p>\n      </div>\n    </div>\n  );\n}\n\nexport default Lobby;\n","import $ from 'jquery';\nexport function getRoomsByClass(className, callback) {\n  $.ajax({\n    url: 'http://49.235.190.178:10010/api/get/chat_room/by_class',\n    type: 'post',\n    data: {\n      className: className\n    },\n    async: false,\n    success: function(data) {\n      console.log(data);\n      if (data.code === 200) {\n        callback(data.chat_rooms);\n      } else {\n        callback(false);\n      }\n    },\n    fail: function(error) {\n      console.log(error);\n    }\n  });\n}\n","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport {Link} from 'react-router-dom';\nimport {selectThemeId} from './features/themeSlice';\nimport {useSelector} from 'react-redux';\nimport {createChatRoom} from './post/createChatRoom';\nimport {selectUserId} from './features/userSlice';\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(4),\n      width: '25ch',\n      background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)'\n    },\n    marginTop: '200px',\n    marginLeft: '35px'\n  },\n  btn_back: {\n    background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)'\n  },\n\n  text_one: {\n    marginLeft: '45px'\n  },\n  text_two: {\n    marginLeft: '45px'\n  },\n  button_create: {\n    marginLeft: '45px',\n    justifyContent: 'cener'\n  },\n  link: {\n    textDecoration: 'none'\n  }\n}));\n\nfunction Create() {\n  const classes = useStyles();\n  // Create chat room..\n  // const themeId = useSelector(selectThemeId);\n  // const userId = useSelector(selectUserId)\n  var storage = window.localStorage;\n  const userId = storage.userId;\n  const themeId = storage.themeId\n  \n  console.log(userId);\n  const createRoom = () => {\n    const roomName = document.getElementById('standard-basicpOne').value;\n    const roomScale = document.getElementById('standard-basicTwo').value;\n    storage['roomName'] = roomName;\n    createChatRoom(roomName, themeId, userId, roomScale, (result) => {\n      console.log(roomName, themeId, userId, roomScale);\n      if (result) {\n        window.location.href = '/chat';\n      } else {\n        alert('创建失败');\n      }\n    });\n    // db.collection('theme').doc(themeId).collection('rooms').add({\n    //   roomName: roomName.value,\n    //   roomScale: roomScale.value\n    // })\n  };\n  return (\n    <div>\n      <Link to=\"/lobby\">\n        <Button variant=\"contained\" color=\"default\" className={classes.btn_back}>\n          <ArrowBackIcon />\n        </Button>\n      </Link>\n\n      <form className={classes.root} noValidate autoComplete=\"off\">\n        <TextField id=\"standard-basicpOne\" label=\"房名\" className={classes.text_one} />\n        <TextField id=\"standard-basicTwo\" label=\"人数规模\" className={classes.text_two} />\n        <Button variant=\"text\" color=\"default\" className={classes.button_create} onClick={createRoom}>\n          <p>创建</p>\n        </Button>\n      </form>\n    </div>\n  );\n}\n\nexport default Create;\n","import $ from 'jquery';\nexport function createChatRoom( roomName, className, userID, capacity, callback) {\n  $.ajax({\n    url: 'http://49.235.190.178:10010/api/create/chat_room',\n    type: 'post',\n    data: {\n      userID: userID,\n      roomName: roomName,\n      className: className,\n      capacity: capacity\n    },\n    async: false,\n    success: function(data) {\n      if (data.code === 200) {\n        callback(true);\n      } else {\n        callback(false);\n      }\n      console.log(data);\n    },\n    fail: function(error) {\n      console.log(error);\n    }\n  });\n}\n","import {Avatar} from '@material-ui/core';\nimport {database} from 'firebase';\nimport React, {forwardRef} from 'react';\nimport {selectUserId} from './features/userSlice';\nimport './Message.css';\nimport {useSelector} from 'react-redux';\n\nconst Message = forwardRef(({id, message}, ref) => {\n  // const user = useSelector(selectUserId);\n  const roomId = window.localStorage.getItem('roomId');\n  const userId = window.localStorage.getItem('userId');\n  var storage = window.localStorage;\n  const userName = storage.userName;\n  console.log(id, userId);\n  return (\n    <div ref={ref} className={`message ${userId === id && 'message_sender'}`}>\n      <Avatar className=\"message_photo\" src=\"\" />\n      <p className=\"chat_name\">{userName}</p>\n      <p className=\"chat_messages\">{message}</p>\n      <small>{new Date().toLocaleDateString()}</small>\n    </div>\n  );\n});\n\nexport default Message;\n","import {IconButton} from '@material-ui/core';\nimport React, {useState, useEffect, Children} from 'react';\nimport './Chat.css';\nimport MicNoneIcon from '@material-ui/icons/MicNone';\nimport Message from './Message';\nimport {selectRoomName, selectRoomId} from './features/roomSlice';\nimport {useSelector} from 'react-redux';\nimport {selectUser} from './features/userSlice';\nimport FlipMove from 'react-flip-move';\nimport Button from '@material-ui/core/Button';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport {Link} from 'react-router-dom';\n\nconst io = require('socket.io-client');\nconst socket = io('http://49.235.190.178:10020', {\n  reconnectionDelayMax: 100000\n});\nsocket.connect();\n\nfunction Chat() {\n  const [input, setInput] = useState('');\n  // const roomName = useSelector(selectRoomName);\n\n  const roomName = window.localStorage.getItem('roomName')\n  // const roomId = useSelector(selectRoomId);\n  const [messages, setMessages] = useState([]);\n  const roomId = window.localStorage.getItem('roomId');\n  const userId = window.localStorage.getItem('userId');\n\n  //get messages\n  useEffect(() => {\n    console.log(roomId, userId);\n    // 接受消息，根据返回的消息决定展示与否，如何展示\n    socket.on('serverToClient', (message) => {\n      console.log('收到一条消息', message);\n      const newMessages = messages;\n      newMessages.push({\n        id: message.userID,\n        message: message.content\n      });\n      setMessages(newMessages);\n      /**\n         * 返回的 message 对象包括发送的所有内容\n         * roomID：聊天室ID\n         * userID：用户ID\n         * content：聊天内容\n         * ------------------------------------\n         * 下面这两个字段只有用户消息发送失败才会有\n         * code：状态码（失败3001）\n         * message：提示信息\n         */\n    });\n    // 订阅聊天室消息，这样就能接收到目标聊天室所有用户发送的消息\n    socket.emit('subscribe', {roomID: roomId});\n    return () => {\n      // 退出前取消订阅\n      socket.emit('unsubscribe', {roomID: 1});\n      // 用户退出聊天室的时候应该断开连接\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleClickSendMessage = (e) => {\n    e.preventDefault();\n    // 发送一条消息，用户输入发送消息时执行这段代码\n    console.log(roomId, userId);\n    socket.emit('clientToServer', {\n      roomID: roomId,\n      userID: userId,\n      content: input\n    });\n    setInput('');\n    setTimeout(() => console.log(messages), 0);\n  };\n\n  return (\n    <div className=\"chat\">\n      {/* chat header */}\n      <div className=\"chat_header\">\n        <Link to=\"./lobby\">\n          <Button variant=\"contained\" color=\"default\">\n            <ArrowBackIcon />\n          </Button>\n        </Link>\n        <h4>\n          <span className=\"chat_name\">{roomName}</span>\n        </h4>\n      </div>\n      {/* chat messages */}\n\n      <div className=\"chat_messages\">\n        {console.log(messages)}\n        <FlipMove>{messages.map(({id, message}) => Children.toArray(<Message id={id} message={message} />))}</FlipMove>\n      </div>\n      {/* chat input */}\n      <div className=\"chat_input\">\n        <form>\n          <input value={input} onChange={(e) => setInput(e.target.value)} placeholder=\"iMessage\" type=\"text\" />\n          <button onClick={handleClickSendMessage}>Send Message</button>\n        </form>\n        <IconButton>\n          <MicNoneIcon className=\"chat_mic\" />\n        </IconButton>\n      </div>\n    </div>\n  );\n}\nexport default Chat;\n","import React from 'react';\nimport { Button } from '@material-ui/core';\nimport Avatar from '@material-ui/core/Avatar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { logon } from './post/logon';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh'\n  },\n  image: {\n    backgroundImage: 'url(https://source.unsplash.com/random)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor: theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center'\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  },\n  link: {\n    textDecoration: 'none',\n    color: 'white'\n  }\n}));\n\nfunction SignUp() {\n  const classes = useStyles();\n\n  const onClickLogon = () => {\n    const userID = document.getElementById('email').value;\n    const password = document.getElementById('password').value;\n    const passwordAgain = document.getElementById('passwordAgain').value;\n\n    if (password !== passwordAgain) {\n      alert('两次输入的密码不一致！');\n    } else {\n      logon(userID, password, (result) => {\n        console.log(result);\n        if (result) {\n          alert('注册成功');\n          window.location.href = '/';\n        } else {\n          alert('注册失败');\n        }\n      });\n    }\n  };\n\n  return (\n    <Grid container component=\"main\" className={classes.root}>\n      <CssBaseline />\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign Up\n          </Typography>\n          <form className={classes.form} noValidate>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Email Address\"\n              name=\"email\"\n              autoComplete=\"email\"\n              autoFocus\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"passwordAgain\"\n              label=\"PasswordAgain\"\n              type=\"password\"\n              id=\"passwordAgain\"\n              autoComplete=\"current-password\"\n            />\n            <Button\n              // type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              onClick={onClickLogon}\n            >\n              Sign Up\n            </Button>\n          </form>\n        </div>\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default SignUp;\n","import $ from 'jquery';\nexport function logon(userID, password, callback) {\n  $.ajax({\n    url: 'http://49.235.190.178:10010/api/logon',\n    type: 'post',\n    data: {\n      userID: userID,\n      password: password\n    },\n    async: false,\n    success: function(data) {\n      console.log(data);\n      if (data.code === 200) {\n        callback(true);\n      } else {\n        callback(false);\n      }\n    },\n    fail: function(error) {\n      console.log(error);\n    }\n  });\n}\n","import React from 'react'\nimport { Button } from '@material-ui/core'\nimport Avatar from '@material-ui/core/Avatar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {Link} from \"react-router-dom\"\nimport {modifyPassword} from \"./post/modifyPassword\"\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      height: '100vh',\n    },\n    image: {\n      backgroundImage: 'url(https://source.unsplash.com/random)',\n      backgroundRepeat: 'no-repeat',\n      backgroundColor:\n        theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n      backgroundSize: 'cover',\n      backgroundPosition: 'center',\n    },\n    paper: {\n      margin: theme.spacing(8, 4),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n      width: '100%', // Fix IE 11 issue.\n      marginTop: theme.spacing(1),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n    link: {\n        textDecoration: 'none',\n        color:'white',\n    },\n  }));\n\nfunction ChangePW() {\n    const classes = useStyles();\n    var storage = window.localStorage;\n    const userID = storage.userId\n    const change = () => {\n      const oldPassword = document.getElementById('oldPassword').value;\n      const newPassword = document.getElementById('newPassword').value;\n      const verifyPassword = document.getElementById('verifyPassword').value;\n\n      if (newPassword !== verifyPassword) {\n        alert('两次输入的密码不一致！');\n      } else {\n        modifyPassword(userID, oldPassword,newPassword, (result) => {\n          console.log(result);\n          console.log(userID)\n          if (result) {\n            alert('修改成功');\n            window.location.href = '/';\n          } else {\n            alert('修改失败');\n          }\n        });\n      }\n    };\n    return (\n        <Grid container component=\"main\" className={classes.root}>\n        <CssBaseline />\n        <Grid item xs={false} sm={4} md={7} className={classes.image} />\n        <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n            <div className={classes.paper}>\n            <Avatar className={classes.avatar}>\n                <LockOutlinedIcon />\n            </Avatar>\n            <Typography component=\"h1\" variant=\"h5\">\n                Change\n            </Typography>\n            <form className={classes.form} noValidate>\n                <TextField\n                variant=\"outlined\"\n                margin=\"normal\"\n                required\n                fullWidth\n                id=\"oldPassword\"\n                label=\"old Password\"\n                name=\"oldPassword\"\n                autoComplete=\"oldPassword\"\n                autoFocus\n                />\n                <TextField\n                variant=\"outlined\"\n                margin=\"normal\"\n                required\n                fullWidth\n                name=\"new password\"\n                label=\"New Password\"\n                type=\"password\"\n                id=\"newPassword\"\n                />\n                <TextField\n                variant=\"outlined\"\n                margin=\"normal\"\n                required\n                fullWidth\n                name=\"Verify password\"\n                label=\"Verify Password\"\n                type=\"password\"\n                id=\"verifyPassword\"\n                />\n                <Button\n                // type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submit}\n                onClick={change}\n                >\n                  Change\n                </Button>\n            </form>\n            </div>\n        </Grid>\n        </Grid>\n  );\n}\n\nexport default ChangePW\n","import $ from 'jquery';\nexport function modifyPassword(userID, passwordOld, passwordNew, callback) {\n  $.ajax({\n    url: 'http://49.235.190.178:10010/api/modify/password',\n    type: 'post',\n    data: {\n      userID: userID,\n      passwordOld: passwordOld,\n      passwordNew: passwordNew\n    },\n    async: false,\n    success: function(data) {\n      console.log(data);\n      if (data.code === 200) {\n        callback(true);\n      } else {\n        callback(false);\n      }\n    },\n    fail: function(error) {\n      console.log(error);\n    }\n  });\n}\n","import React from 'react'\nimport './changeUN.css'\nimport Button from '@material-ui/core/Button'\nimport {modname} from \"./post/modifyUserName\"\n\n\n  \n\nfunction ChangeUN() {\n   \n    const change = () => {\n        const userName = document.getElementById('name').value\n        var storage = window.localStorage;\n        storage['userName'] = userName\n        const userId = storage.userId\n        modname(userId, userName, (result) => {\n            console.log(result);\n            console.log(userId)\n            if (result) {\n              alert('修改成功');\n              window.location.href = '/home';\n            } else {\n              alert('修改失败');\n            }\n          });\n    }\n    const toLobby = () => {\n        window.location.href = '/lobby'\n    }\n\n    return (\n        <div className=\"root\">\n            <div className=\"header\">\n                <Button variant=\"text\" color=\"default\" onClick={toLobby}>\n                    取消\n                </Button>\n                <p>设置名字</p>\n                <Button variant=\"text\" color=\"default\" onClick={change} >\n                    完成\n                </Button>\n            </div>\n            <div className=\"body\">\n                <input id='name'/>\n            </div>\n        </div>\n    )\n}\n\nexport default ChangeUN\n","import $ from 'jquery';\nexport function modname(userID, userName, callback) {\n  $.ajax({\n    url: 'http://49.235.190.178:10010/api/modify/user_name',\n    type: 'post',\n    data: {\n      userID: userID,\n      userName: userName\n    },\n    async: false,\n    success: function(data) {\n      console.log(data);\n      if (data.code === 200) {\n        callback(true);\n      } else {\n        callback(false);\n      }\n    },\n    fail: function(error) {\n      console.log(error);\n    }\n  });\n}\n","import React, { useEffect } from 'react';\r\nimport './App.css';\r\nimport { useDispatch,useSelector } from 'react-redux'\r\nimport { logout, selectUser, login} from \"./features/userSlice\"\r\nimport Login from \"./Login\"\r\nimport {BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport Home from \"./Home\"\r\nimport Header from \"./Header\"\r\nimport Lobby from './Lobby';\r\nimport Create from \"./Create\"\r\nimport Chat from \"./Chat\"\r\nimport SignUp from './SignUp';\r\nimport ChangePW from './ChangePw';\r\nimport ChangeUN from './ChangeUN';\r\n\r\n\r\nfunction App() {\r\n  \r\n  // const user = useSelector(selectUser);\r\n  // const dispatch = useDispatch();\r\n\r\n  // useEffect(() => {\r\n  //   auth.onAuthStateChanged((authUser) => {\r\n  //     if(authUser) {\r\n  //       // user is logged in\r\n  //       dispatch (\r\n  //         // get users' information\r\n  //         login({\r\n  //           uid: authUser.uid,\r\n  //           photo: authUser.photoURL,\r\n  //           email: authUser.email,\r\n  //           displayName: authUser.displayName,\r\n  //         })\r\n  //       );\r\n  //     }  else {\r\n  //       // user is logged out\r\n  //       dispatch(logout());\r\n  //     }\r\n  //   });\r\n  // }, []);\r\n  return (\r\n    <Router >\r\n      <div className=\"app\">\r\n               <Switch>\r\n                <Route path=\"/\" exact>\r\n                  <Login />\r\n                </Route>\r\n                <Route path=\"/home\">\r\n                  <Header />\r\n                  <Home />\r\n                </Route>\r\n                <Route path=\"/lobby\" >\r\n                  <Lobby />\r\n                </Route>\r\n                <Route path=\"/create\">\r\n                  <Create />\r\n                </Route>\r\n                <Route path=\"/chat\">\r\n                  <Chat />\r\n                </Route>\r\n                <Route path=\"/signUp\" >\r\n                  <SignUp />\r\n                </Route>\r\n                <Route path=\"/changepw\">\r\n                  <ChangePW />\r\n                </Route>\r\n                <Route path=\"/changeun\">\r\n                  <ChangeUN />\r\n                </Route>\r\n              </Switch> \r\n        </div> \r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport userReducer from '../features/userSlice';\r\nimport roomReducer from '../features/roomSlice';\r\nimport themeReducer from '../features/themeSlice'\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    user: userReducer,\r\n    room: roomReducer,\r\n    theme: themeReducer,\r\n  },\r\n});\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from './app/store';\r\nimport { Provider } from 'react-redux';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}